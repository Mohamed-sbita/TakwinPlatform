<div class="container">
    <div class="header">
      <h1>Liste des emplois du temps</h1>
      <a routerLink="/dashboard/emplois-du-temps/create" class="btn btn-primary">
        <i class="fas fa-plus"></i> Nouvel emploi
      </a>
    </div>
  
    <div class="filters">
      <div class="form-group">
        <input type="text" [(ngModel)]="searchTerm" (ngModelChange)="filterEmplois()" 
               placeholder="Rechercher...">
      </div>
      <div class="form-group">
        <select [(ngModel)]="selectedClasse" (ngModelChange)="filterEmplois()">
          <option value="">Toutes les classes</option>
          <option *ngFor="let classe of classes" [value]="classe._id">
            {{ classe.nom }}
          </option>
        </select>
      </div>
    </div>
  
    <div *ngIf="isLoading" class="loading">
      <div class="spinner"></div>
      <p>Chargement en cours...</p>
    </div>
  
    <div *ngIf="errorMessage" class="alert alert-danger">
      {{ errorMessage }}
    </div>
  
    <div *ngIf="!isLoading && filteredEmplois.length === 0" class="no-data">
      <p>Aucun emploi du temps trouvé</p>
    </div>
  
    <div *ngIf="!isLoading && filteredEmplois.length > 0" class="emploi-list">
      <div *ngFor="let emploi of filteredEmplois" class="emploi-card">
        <div class="emploi-header">
          <h3>{{ emploi.titre }}</h3>
          <div class="badge bg-primary">{{ getClasseName(emploi.classe._id) }}</div>
        </div>
        <p *ngIf="emploi.description">{{ emploi.description }}</p>
        <div class="emploi-footer">
          <small>Créé le {{ emploi.createdAt | date:'dd/MM/yyyy' }}</small>
          <div class="actions">
            <a [routerLink]="['/dashboard/emplois-du-temps/view', emploi._id]" class="btn btn-info">
              <i class="fas fa-eye"></i> 
            </a>
            <a [routerLink]="['/dashboard/emplois-du-temps/edit', emploi._id]" class="btn btn-edit">
              <i class="fas fa-edit"></i> 
            </a>
            <button (click)="confirmDelete(emploi._id)" class="btn btn-delete">
              <i class="fas fa-trash"></i> 
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>