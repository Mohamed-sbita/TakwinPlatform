<div class="container article-container mt-4 mb-5">
    <div class="row justify-content-center">
      <div class="col-lg-10">
        <!-- Loading state -->
        <div *ngIf="isLoading" class="text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
          <p class="mt-3">Chargement de l'actualité...</p>
        </div>
  
        <!-- Error state -->
        <div *ngIf="error && !isLoading" class="alert alert-danger">
          {{ error }}
        </div>
  
        <!-- Content -->
        <div *ngIf="actualite && !isLoading" class="card article-card">
          <!-- Image -->
          <div *ngIf="actualite.image" class="article-image-container">
            <img 
              [src]="getImageUrl(actualite.image)" 
              [alt]="actualite.title" 
              class="card-img-top article-image"
            >
          </div>
  
          <!-- Article body -->
          <div class="card-body">
            <!-- Category badge -->
            <span class="badge bg-primary mb-3">{{ actualite.categorie | titlecase }}</span>
            
            <!-- Title -->
            <h1 class="card-title article-title">{{ actualite.title }}</h1>
            
            <!-- Meta info -->
            <div class="article-meta mb-4">
              <span class="text-muted">
                <i class="bi bi-calendar"></i> Publié le {{ formatDate(actualite.createdAt) }}
              </span>
              <span *ngIf="actualite.author?.name" class="text-muted ms-3">
                <i class="bi bi-person"></i> Par {{ actualite.author.name }}
              </span>
            </div>
            
            <!-- Tags -->
            <div *ngIf="actualite.tags?.length" class="mb-4">
              <span *ngFor="let tag of actualite.tags" class="badge bg-secondary me-2">
                {{ tag }}
              </span>
            </div>
            
            <!-- Content -->
            <div class="article-content" [innerHTML]="sanitizedContent"></div>
            
            <!-- Attachment -->
            <div *ngIf="actualite.attachement" class="mt-4 pt-3 border-top">
              <h5 class="mb-3">Fichier joint</h5>
              <a 
                [href]="getAttachmentUrl(actualite.attachement)" 
                target="_blank" 
                class="btn btn-outline-primary"
              >
                <i class="bi bi-download"></i> Télécharger le fichier
              </a>
             
            </div>
            <div class="d-flex justify-content-between mt-4"*ngIf="user?.role !== 'admin'">
              <button type="button" class="btn btn-secondary" routerLink="/dashboard/voir-actualite">Retour</button>
            </div>
            <div class="d-flex justify-content-between mt-4" *ngIf="user?.role === 'admin'">
              <button type="button" class="btn btn-secondary" routerLink="/dashboard/actualite">Retour</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>